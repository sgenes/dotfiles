#!/usr/bin/env bash

cd /home/ramot/Documents/workspace/git/vim
git fetch
test=$(git status --porcelain -b 2> /dev/null)
if [[ $test =~ \#\#\ .*behind ]]; then
  git merge
  ./configure --with-features=huge \
  --enable-multibyte \
  --enable-rubyinterp \
  --enable-pythoninterp \
  --enable-luainterp \
  --enable-perlinterp \
  --with-python-config-dir=/usr/lib/python2.7/config-x86_64-linux-gnu/ \
  --disable-gui \
  --enable-cscope \
  --prefix=/usr/local \
  --with-ruby-command=/usr/bin/ruby
  make && sudo make install
else
  echo "Up-to-date"
fi
