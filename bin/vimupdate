#!/usr/bin/env bash

cd /home/ramot/Documents/workspace/git/vim
git fetch
test=$(git status --porcelain -b 2> /dev/null)
if [[ $test =~ \#\#\ .*behind ]]; then
  git merge
  ./configure --with-features=huge \
  --enable-multibyte \
  --enable-rubyinterp \
  --enable-python3interp \
  --enable-luainterp \
  --enable-perlinterp \
  --with-python-config-dir=/usr/lib/python3.6/config-3.6m-x86_64-linux-gnu/ \
  --enable-cscope \
  --prefix=/usr/local \
  --with-ruby-command=/usr/bin/ruby \
  --enable-gui=gtk3
  make && sudo make install
else
  echo "Up-to-date"
fi
